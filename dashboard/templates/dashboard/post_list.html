{% extends 'scaffoldings/base.html' %} {% block contents %}
<title>게시판</title>

<body>
  <div id="post-list">
    <div class="flex flex-col space-y-12">
      <h1 class="text-4xl font-bold">게시글 목록</h1>
      <ul x-data="{ openIndex: null }">
        {% for post in posts %}
        <div class="flex items-center space-x-12">
          <li
            class="text-xl font-semibold cursor-pointer"
            @click="openIndex = openIndex === {{ post.id }} ? null : {{ post.id }}"
          >
            {{ post.title }}
          </li>
          <li x-show="openIndex === {{ post.id }}" x-transition.scale>
           - {{ post.body }}
          </li>
        </div>
        {% empty %}
        <li>게시글이 없습니다.</li>
        {% endfor %}
      </ul>
    </div>
    <div class="mt-12">
      <form
        hx-post="/dashboard/"
        hx-target="#post-list"
        class="flex flex-col space-y-12"
      >
        {% csrf_token %}
        <label for="title">제목: </label>
        <input id="title" type="text" name="title" placeholder="제목 입력" />
        <textarea name="body" placeholder="내용 입력"></textarea>
        <button type="submit">게시글 작성</button>
      </form>
    </div>
  <div>
</body>
{% endblock %}
